<div class="dashboard-content-one">
  <div class="breadcrumbs-area">
    <h3>Account Setting</h3>
    <ul>
      <li>
        <a href="index.html">Home</a>
      </li>
      <li>Setting</li>
    </ul>
  </div>
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-body">
          <div class="heading-layout1">
            <div class="item-title">
              <h3>edit <%= @user.role.name.capitalize %></h3>
            </div>
            <div class="dropdown">
              <a class="dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-expanded="false">...</a>
              <div class="dropdown-menu dropdown-menu-right">
                <a class="dropdown-item" href="#"><i class="fas fa-times text-orange-red"></i>Close</a>
                <a class="dropdown-item" href="#"><i class="fas fa-cogs text-dark-pastel-green"></i>Edit</a>
                <a class="dropdown-item" href="#"><i class="fas fa-redo-alt text-orange-peel"></i>Refresh</a>
              </div>
            </div>
          </div>
          <%= form_with model: @user do |f| %>
            <div class="row">
              <div class="col-xl-3 col-lg-6 col-12 form-group">
                <%= f.label :name, "Name" %>
                <%= f.text_field :name, class: "form-control", placeholder: "Name" %>
                <% if @user.errors.messages[:name].present? %>
                  <% @user.errors.messages[:name].each do |mass| %>
                    <%= mass %>
                  <% end %>
                <% end %>
              </div>
              <%if @user.present? || @user.role.name == "student"%>
                <div class="col-xl-3 col-lg-6 col-12 form-group">
                  <%= f.label :role_id, "Account Name" %>
                  <%= f.select("role_id", Role.all.map { |p| [p.name, p.id] }, {}, { class: "form-control select2 select2-container select2-container--default select2-container--below" }) %>
                  <% if @user.errors.messages[:role_id].present? %>
                    <% @user.errors.messages[:role_id].each do |mass| %>
                      <%= mass %>
                    <% end %>
                  <% end %>
                </div>
              <%end%>
              <div class="col-xl-3 col-lg-6 col-12 form-group">
                <%= f.label :email, "Email" %>
                <%= f.email_field :email, class: "form-control", placeholder: "Email" %>
              </div>
              <div class="col-xl-3 col-lg-6 col-12 form-group">
                <%= f.label :password, "Password" %>
                <%= f.password_field :password, placeholder: "Password", class: "form-control" %>
              </div>
              <div class="col-xl-3 col-lg-6 col-12 form-group">
                <%= f.label :password_confirmation, "Confirmation Password" %>
                <%= f.password_field :password_confirmation, placeholder: "Confirmation Password", class: "form-control" %>
              </div>
              <div class="col-xl-3 col-lg-6 col-12 form-group">
                <%= f.label :address, "Address" %>
                <%= f.text_field :address, class: "form-control" %>
                <% if @user.errors.messages[:address].present? %>
                  <% @user.errors.messages[:address].each do |mass| %>
                    <%= mass %>
                  <% end %>
                <% end %>
              </div>
              <div class="col-xl-3 col-lg-6 col-12 form-group" >
                <%= f.label :phone, "Phone Number" %>
                <%= f.text_field :phone, class: "form-control" %>
                <% if @user.errors.messages[:phone].present? %>
                  <% @user.errors.messages[:phone].each do |mass| %>
                    <%= mass %>
                  <% end %>
                <% end %>
              </div>
              <div class="col-xl-3 col-lg-6 col-12 form-group" data-select2-id="14">
                <%= f.label :gender, "Gender" %>
                <%= f.select("gender", User::GENDERS, {}, { class: "form-control select2 select2-container select2-container--default select2-container--below" }) %>
                <% if @user.errors.messages[:gender].present? %>
                  <% @user.errors.messages[:gender].each do |mass| %>
                    <%= mass %>
                  <% end %>
                <% end %>
              </div>
              <div class="col-xl-3 col-lg-6 col-12 form-group" data-select2-id="14">
                <%= f.label :religion, "Religion" %>
                <%= f.select("religion", User::RELIGIONS, {}, { class: "form-control select2 select2-container select2-container--default select2-container--below" }) %>
                <% if @user.errors.messages[:religion].present? %>
                  <% @user.errors.messages[:religion].each do |mass| %>
                    <%= mass %>
                  <% end %>
                <% end %>
              </div>
              <%if @user.role.name == "teacher" || @user.role.name == "admin" %>
                <div class="col-xl-3 col-lg-6 col-12 form-group">
                  <%= f.label :national_id, "National_ID" %>
                  <%= f.text_field :national_id, required: true, class: "form-control" %>
                  <% if @user.errors.messages[:national_id].present? %>
                    <% @user.errors.messages[:national_id].each do |mass| %>
                      <span class="valid-mass"><%= mass %></span>
                    <% end %>
                  <% end %>
                </div>
              <%end%>
              <div class="col-xl-3 col-lg-6 col-12 form-group" >
                <%= f.label :date_birth, "date_of_Birth" %>
                <%= f.text_field :date_birth, class: "form-control" %>
                <% if @user.errors.messages[:date_birth].present? %>
                  <% @user.errors.messages[:date_birth].each do |mass| %>
                    <%= mass %>
                  <% end %>
                <% end %>
              </div>
              <%if @user.role.name == "student"%>
                <div class="col-xl-3 col-lg-6 col-12 form-group" data-select2-id="14">
                  <%= f.label :parent_id, "Parent Name" %>
                  <%= f.select("parent_id", Parent.all.map { |p| [p.name, p.id] }, {}, { class: "form-control select2 select2-container select2-container--default select2-container--below" }) %>
                  <% if @user.errors.messages[:parent_id].present? %>
                    <% @user.errors.messages[:parent_id].each do |mass| %>
                      <%= mass %>
                    <% end %>
                  <% end %>
                </div>
                <div class="col-xl-3 col-lg-6 col-12 form-group" data-select2-id="14">
                  <%= f.label :classroom_id, "Classroom Name" %>
                  <%= f.select("classroom", Classroom.all.map { |s| [s.name, s.id] }, {}, { class: "form-control select2 select2-container select2-container--default select2-container--below" }) %>
                  <% if @user.errors.messages[:classroom_id].present? %>
                    <% @user.errors.messages[:classroom_id].each do |mass| %>
                      <%= mass %>
                    <% end %>
                  <% end %>
                </div>
                <div class="col-xl-3 col-lg-6 col-12 form-group" data-select2-id="14">
                  <%= f.label :bus_id, "Bus number" %>
                  <%= f.select("bus_id", Bus.all.map { |b| [b.bus_number, b.id] }, {}, { class: "form-control select2 select2-container select2-container--default select2-container--below" }) %>
                  <% if @user.errors.messages[:bus_id].present? %>
                    <% @user.errors.messages[:bus_id].each do |mass| %>
                      <%= mass %>
                    <% end %>
                  <% end %>
                </div>
              <% end %>
              <%if @user.role.name == "student" || @user.role.name == "teacher" %>
                <div class="col-xl-3 col-lg-6 col-12 form-group" data-select2-id="14">
                  <%= f.label :subject_id, "Name Subject" %>
                  <%= f.select("subject_id", Subject.all.map { |s| [s.name, s.id] }, {}, { class: "form-control select2 select2-container select2-container--default select2-container--below" }) %>
                  <% if @user.errors.messages[:subject_id].present? %>
                    <% @user.errors.messages[:subject_id].each do |mass| %>
                      <%= mass %>
                    <% end %>
                  <% end %>
                </div>
                <div class="col-xl-3 col-lg-6 col-12 form-group" data-select2-id="14">
                  <%= f.label :stage_id, "Name Stage" %>
                  <%= f.select("stage_id", Stage.all.map { |s| [s.name, s.id] }, {}, { class: "form-control select2 select2-container select2-container--default select2-container--below" }) %>
                  <% if @user.errors.messages[:stage_id].present? %>
                    <% @user.errors.messages[:stage_id].each do |mass| %>
                      <%= mass %>
                    <% end %>
                  <% end %>
                </div>
              <%end%>
              <div class="col-md-6 d-none d-xl-block">
              </div>
              <div class="col-lg-6 col-12 form-group">
                <%= f.label :cv, "cv" %>
                <%= f.text_area :cv, class: "textarea form-control" %>
              </div>
              <div class="col-lg-6 col-12 form-group mg-t-30">
                <label class="text-dark-medium">Upload @user Photo (150px X 150px)</label>
                <input type="file" class="form-control-file">
              </div>
              <div class="col-12 form-group mg-t-8">
                <button type="submit" class="btn-fill-lg btn-gradient-yellow btn-hover-bluedark">Save</button>
                <button type="reset" class="btn-fill-lg bg-blue-dark btn-hover-yellow">Reset</button>
              </div>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
